<html>

<head>
</head>

<body style="width:300px;height:600px;">
    <div style="width:300px;height:600px;">
        <form enctype="multipart/form-data" method="post">
            <input id="mainFile" name="test" type="file" accept="image/*;capture=camera" style="display:none;">
            <button onclick="this.form.test.click();"
                style="width:300px;height:300px;font-size:72px;margin:0px auto;position: absolute;top:0;left:0;bottom:0;right:0;">
                開啟
            </button>
        </form>
        <video id="mainSrc"></video>
    </div>
</body>
<script language="javascript">
    // self.resizeTo(300, 300)
    // <input type="file" name="" id="mainFile">
    // <video id="video"></video>
    document.getElementById("mainFile").addEventListener("change", function (e) {
        readVideoFile(e.target.files[0])
    })
    
    const readVideoFile = (file) => {
        const reader = new FileReader()
        reader.readAsArrayBuffer(file)
        reader.onload = (e) => {
            const buffer = e.target.result
            const videoBlob = new Blob([new Uint8Array(buffer)], {
                type: "video/mp4"
            })
            const url = window.URL.createObjectURL(videoBlob)
            document.getElementById("mainSrc").src = url
            document.getElementById("mainSrc").play()
        }
    }

</script>

</html>